<!doctype html><html class="no-js" lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Advanced Jekyll</title><link rel="stylesheet" type="text/css" href="http://localhost:4000/assets/css/styles_feeling_responsive_light.css"><link rel="stylesheet" type="text/css" href="http://localhost:4000/assets/css/styles_feeling_responsive.css"> <script src="http://localhost:4000/assets/js/modernizr.min.js"></script> <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script> <script> WebFont.load({ google: { families: [ 'Lato:400,700,400italic:latin', 'Volkhov::latin' ] } }); </script> <noscript><link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic%7CVolkhov' rel='stylesheet' type='text/css'> </noscript><meta name="description" content="Jekyll is a static site generator. That means, that you give some info to it and get HTML pages as a result. It&#39;s ok when the site is pretty simple or even single page. What about more complicated websites? Will Jekyll handle it? Will it be convenient?"><link rel="canonical" href="http://localhost:4000/articles/advanced-jekyll/"><meta property="og:title" content="Advanced Jekyll"><meta property="og:description" content="Jekyll is a static site generator. That means, that you give some info to it and get HTML pages as a result. It&#39;s ok when the site is pretty simple or even single page. What about more complicated websites? Will Jekyll handle it? Will it be convenient?"><meta property="og:url" content="http://localhost:4000/articles/advanced-jekyll/"><meta property="og:locale" content="en_EN"><meta property="og:type" content="website"><meta property="og:site_name" content="Arizona Jugger League"><meta property="article:author" content="https://www.facebook.com/Arizona Jugger League"><link type="text/plain" rel="author" href="http://localhost:4000/humans.txt"><link rel="icon" sizes="32x32" href="http://localhost:4000/assets/img/favicon-32x32.png"><link rel="icon" sizes="192x192" href="http://localhost:4000/assets/img/touch-icon-192x192.png"><link rel="apple-touch-icon-precomposed" sizes="180x180" href="http://localhost:4000/assets/img/apple-touch-icon-180x180-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://localhost:4000/assets/img/apple-touch-icon-152x152-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/assets/img/apple-touch-icon-144x144-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="120x120" href="http://localhost:4000/assets/img/apple-touch-icon-120x120-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/assets/img/apple-touch-icon-114x114-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="76x76" href="http://localhost:4000/assets/img/apple-touch-icon-76x76-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/assets/img/apple-touch-icon-72x72-precomposed.png"><link rel="apple-touch-icon-precomposed" href="http://localhost:4000/assets/img/apple-touch-icon-precomposed.png"><meta name="msapplication-TileImage" content="http://localhost:4000/assets/img/msapplication_tileimage.png"><meta name="msapplication-TileColor" content="#fabb00"><body id="top-of-page" class="post"><div id="navigation" class="sticky"><nav class="top-bar" role="navigation" data-topbar><ul class="title-area"><li class="name"><h1 class="show-for-small-only"><a href="http://localhost:4000" class="icon-tree"> Arizona Jugger League</a></h1><li class="toggle-topbar menu-icon"><a href="#"><span>Navigation</span></a></ul><section class="top-bar-section"><ul class="right"><li class="divider"><li><a href="http://localhost:4000/search/">Search</a></ul><ul class="left"><li><a href="http://localhost:4000/">Home</a><li class="divider"><li class="has-dropdown"> <a href="http://localhost:4000">Tournaments</a><ul class="dropdown"><li><a href="http://localhost:4000/dustbowlmasters/">Dust Bowl Masters</a></ul><li class="divider"><li><a href="http://localhost:4000/aboutjugger/">About Jugger</a><li class="divider"><li><a href="http://localhost:4000/aboutus/">About Us</a><li class="divider"></ul></section></nav></div><div id="masthead"><div class="row"><div class="small-12 columns"> <a id="logo" href="http://localhost:4000/" title="Arizona Jugger League – Arizona Jugger League"> <img src="http://localhost:4000/assets/img/logo.png" alt="Arizona Jugger League – Arizona Jugger League"> </a></div></div></div><div class="row t30"><div class="medium-8 columns medium-offset-2 end"><article itemscope itemtype="http://schema.org/Article"><header><div itemprop="name"><p class="subheadline">Static site creation<h1>Advanced Jekyll</h1></div></header><p class="teaser" itemprop="description"> <a href='https://jekyllrb.com'>Jekyll</a> is a static site generator. That means, that you give some info to it and get HTML pages as a result. It's ok when the site is pretty simple or even single page. What about more complicated websites? Will Jekyll handle it? Will it be convenient?<div itemprop="articleSection"><p id="toc"><strong>Table of contents:</strong><ul id="markdown-toc"><li><a href="#static-html" id="markdown-toc-static-html">Static HTML</a><li><a href="#custom-domains" id="markdown-toc-custom-domains">Custom domains</a><li><a href="#cloudflare" id="markdown-toc-cloudflare">CloudFlare</a><li><a href="#markdown" id="markdown-toc-markdown">Markdown</a><li><a href="#sass--scss" id="markdown-toc-sass--scss">SASS / SCSS</a><li><a href="#layouts" id="markdown-toc-layouts">Layouts</a><li><a href="#variables" id="markdown-toc-variables">Variables</a><li><a href="#collections" id="markdown-toc-collections">Collections</a><li><a href="#inpage-galleries" id="markdown-toc-inpage-galleries">Inpage galleries</a><li><a href="#filters-pipes" id="markdown-toc-filters-pipes">Filters pipes</a><li><a href="#variable-capture" id="markdown-toc-variable-capture">Variable capture</a><li><a href="#code-compression" id="markdown-toc-code-compression">Code compression</a><li><a href="#custom-highlight" id="markdown-toc-custom-highlight">Custom highlight</a><li><a href="#tag-cloud" id="markdown-toc-tag-cloud">Tag cloud</a><li><a href="#multilingual-sites" id="markdown-toc-multilingual-sites">Multilingual sites</a><li><a href="#comments-system" id="markdown-toc-comments-system">Comments system</a><li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a><li><a href="#useful-links" id="markdown-toc-useful-links">Useful links</a></ul><h3 id="static-html">Static HTML</h3><p><a href="https://pages.github.com/">Github Pages</a> use Jekyll as generator engine. Can GitHub Pages be used without any Jekyll? Yes! You can use GitHub Pages as a simple HTML hosting (it’s free) if you have a site generated in some other place.<p><a href="https://winternovel.dexp.in"><img src="https://ArizonaJuggerLeague.github.io/images/other/jekyll/wn-demo.png" alt="Winter Novel web demo" title="Winter Novel web demo" /></a><p>For example, <a href="https://winternovel.dexp.in">Winter Novel web Demo</a> was generated in C-application. It’s just a bunch of pure HTML pages, hosted on GitHub Pages! You can see the source <a href="https://github.com/DeXP/WinterNovel-demo">here</a>.<h3 id="custom-domains">Custom domains</h3><p>As you can see, there is an opportunity to use your own domain name instead of <em>*.github.io</em>. It’s pretty simple. You just need to create a <a href="https://github.com/DeXP/WinterNovel-demo/blob/gh-pages/CNAME">CNAME</a> file with the only line - your domain name:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>winternovel.dexp.in
</code></pre></div></div><p>You can see the correct domain in your repository settings after commit:<p><img src="https://ArizonaJuggerLeague.github.io/images/other/jekyll/domain-settings.png" alt="GitHub Pages options in repository settings" title="GitHub Pages options in repository settings" /><p>You can use domain names of any levels. For example, <a href="https://dexp.in">dexp.in</a> is hosted on GitHub too.<h3 id="cloudflare">CloudFlare</h3><p>Another great free service is <a href="https://www.cloudflare.com">CloudFlare</a>. You need a DNS manager for you domains anyway. But CloudFlare not only a DNS manager but a CDN too. It means that CloudFlare can cache your pages and show them even if GitHub Pages will be down.<p><img src="https://ArizonaJuggerLeague.github.io/images/other/jekyll/cloudflare-dexp-in.png" alt="dexp.in on CloidFlare" title="dexp.in on CloidFlare" /><p>Main domain directly points to GitHub’s IP’s. Subdomains were made via cname alias to <em>dexp.github.io</em>.<h3 id="markdown">Markdown</h3><p>Jekyll supports both HTML and Markdown for writing posts. HTML gives you more opportunities, but too heavy. Markdown is really cool for writing any texts.<p>Examples of <a href="https://github.com/DeXP/onemangaday/blob/gh-pages/tutorials/_posts/2014-12-25-making-site-in-comipo.html">HTML post</a>:<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p&gt;</span>Creating a website in Manga Maker Comipo is almost like creating it in Photoshop. That means the program is only responsible for creating the image of the future design. Everything else must be done in other programs and requires skills and knowledge of HTML and CSS.<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p&gt;</span>Let's see an example shown below:<span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"centered"</span><span class="nt">&gt;&lt;img</span> <span class="na">src=</span><span class="s">"pic/tutorials/site/OneMangaDay-site-comipo.png"</span> <span class="na">alt=</span><span class="s">"Website in Comipo"</span> <span class="na">class=</span><span class="s">"imgshad"</span><span class="nt">&gt;&lt;/p&gt;</span>

<span class="nt">&lt;p&gt;</span>You can see "Layer List" panel. It already has a stack of layers. You just need to implement this stack in HTML! The most convenient way is exporting each layer as a separate image. Export can be accessed from the menu "File - Export Image File". Also you can press F2. Export options:<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"centered"</span><span class="nt">&gt;&lt;img</span> <span class="na">src=</span><span class="s">"pic/tutorials/site/OneMangaDay-branch-export.png"</span> <span class="na">alt=</span><span class="s">"Export parameters for website miking in Comipo"</span><span class="nt">&gt;&lt;/p&gt;</span>
</code></pre></div></div><p>You need to add both <code class="language-plaintext highlighter-rouge">&lt;p&gt;</code> and <code class="language-plaintext highlighter-rouge">&lt;/p&gt;</code> at least… And example of <a href="https://raw.githubusercontent.com/DeXP/onemangaday/gh-pages/tutorials/_posts/2015-03-28-simple-game-in-renpy.md">Markdown post</a>:<div class="language-md highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Visual novels creating is not such a difficult thing, as it might seem. And RenPy engine will help us: <span class="p">[</span><span class="nv">http://renpy.org</span><span class="p">](</span><span class="sx">http://renpy.org</span><span class="p">)</span>{:target="_blank"}. On the one hand, the engine is simple and understandable even for beginners. On the other hand, the engine is quite powerful and allows you to create really cool games. You need to download engine and install it. Nothing complicated in this process is not present, the default settings are good. Here is the RenPy main window:

<span class="p">![</span><span class="nv">RenPy main window</span><span class="p">](</span><span class="sx">{{</span> page.picdir }}RenPy-main-en.png){:.imgshad}

There is a list of projects on left. And active project options on the right (the active project is highlighted with blue in projects list ). To create your game you need to click "Add New Project" under the list of projects. Further, the engine will ask a few simple questions. Remember the name of the game should be in English (do not use international/unicode symbols).
</code></pre></div></div><p>The Markdown code is much better. Just give it a try.<h3 id="sass--scss">SASS / SCSS</h3><p>Sass is a language made on top of CSS. It adds a lot of good functionality: variables, code blocks, nested rules, include feature etc. An example of SCSS code with mixins and variables:<div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">@mixin</span> <span class="nf">border-radius</span><span class="p">(</span><span class="nv">$radius</span><span class="o">,</span><span class="nv">$border</span><span class="o">,</span><span class="nv">$color</span><span class="p">)</span> <span class="p">{</span>
  <span class="na">-webkit-border-radius</span><span class="p">:</span> <span class="nv">$radius</span><span class="p">;</span>
     <span class="na">-moz-border-radius</span><span class="p">:</span> <span class="nv">$radius</span><span class="p">;</span>
      <span class="na">-ms-border-radius</span><span class="p">:</span> <span class="nv">$radius</span><span class="p">;</span>
          <span class="nl">border-radius</span><span class="p">:</span> <span class="nv">$radius</span><span class="p">;</span>
    <span class="nl">border</span><span class="p">:</span><span class="nv">$border</span> <span class="nb">solid</span> <span class="nv">$color</span>
<span class="p">}</span>
<span class="nc">.box</span> <span class="p">{</span> <span class="k">@include</span> <span class="nd">border-radius</span><span class="p">(</span><span class="m">10px</span><span class="o">,</span><span class="m">1px</span><span class="o">,</span><span class="no">red</span><span class="p">);</span> <span class="p">}</span>
</code></pre></div></div><p>It will be translated into:<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.box</span> <span class="p">{</span>
   <span class="nl">-webkit-border-radius</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span> 
      <span class="nl">-moz-border-radius</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span> 
       <span class="nl">-ms-border-radius</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span> 
           <span class="nl">border-radius</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span> 
   <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="no">red</span><span class="p">;</span> 
<span class="p">}</span>
</code></pre></div></div><p class="t30 button radius r15"><a href="http://sass-lang.com/guide" target="_blank">Sass Basics ›</a><p class="t30 button radius success"><a href="https://www.tutorialspoint.com/sass/" target="_blank">Sass Tutorial ›</a><h3 id="layouts">Layouts</h3><p>Ok, pure HTML is good. But have Jekyll something like <em>include</em> directive? I want to make my pages something like that:<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">include header.html</span>
<span class="pi">{</span> <span class="nv">my strings</span> <span class="pi">}</span>
<span class="s">include footer.html</span>
</code></pre></div></div><p>Yes, Jekyll have <em>include</em>. But it is better to use it in other places. A better solution for site appearance is a layout mechanism.<p>Let’s see some example. The page’s source code will look like this:<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span>
<span class="na">layout</span><span class="pi">:</span> <span class="s">default</span>
<span class="nn">---</span>
<span class="pi">{</span> <span class="nv">my strings</span> <span class="pi">}</span>
</code></pre></div></div><p>And <em>_layouts/default.html</em>:<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>...
{{ content }}
...<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div><p>So the page generates some code and stores it to the <em>content</em> variable. Jekyll can see that next file will be <em>_layouts/default.html</em> and parse it. The programmer can output <em>content</em> variable at any place of the code.<p>The code is more complicated in real cases. For example, <em>One Manga Day’s</em> <a href="https://github.com/DeXP/onemangaday/blob/gh-pages/index.html">index page</a> and <a href="https://github.com/DeXP/onemangaday/blob/gh-pages/_layouts/default.html">default layout</a> for it.<h3 id="variables">Variables</h3><p>We’ve touched the variables theme. So let’s see the header from <em>One Manga Day’s</em> <a href="https://github.com/DeXP/onemangaday/blob/gh-pages/index.html">index page</a>:<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span>
<span class="na">layout</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">curlang</span><span class="pi">:</span> <span class="s">en</span>
<span class="na">title</span><span class="pi">:</span> <span class="s">Home page</span>
<span class="na">addcss</span><span class="pi">:</span> <span class="s">badges</span>
<span class="nn">---</span>
</code></pre></div></div><p>The <em>layout</em> variable gives the Jekyll info about next file to parse. All other variables used in code by programmer like in <a href="https://github.com/DeXP/onemangaday/blob/gh-pages/_layouts/default.html">layout</a>:<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
	<span class="nt">&lt;head&gt;</span>
		<span class="nt">&lt;title&gt;</span>{{ site.name }} | {{ page.title }}<span class="nt">&lt;/title&gt;</span> 
</code></pre></div></div><p>The <em>page.title</em> was in the page’s header. The <em>site.name</em> variable is in <a href="https://github.com/DeXP/onemangaday/blob/gh-pages/_config.yml">_config.yml</a>. The result of this line’s parsing is: <code class="language-plaintext highlighter-rouge">One Manga Day | Home page</code><h3 id="collections">Collections</h3><p>Previous features were not very advanced. But collections help to do really powerful things. For example, galleries. And particular example: <a href="https://onemangaday.dexp.in/manga.html">Manga</a> page.<p><img src="https://ArizonaJuggerLeague.github.io/images/other/jekyll/manga.jpg" alt="One Manga Day: Manga page" title="One Manga Day: Manga page" /><p>A short excerpt from <a href="https://github.com/DeXP/onemangaday/blob/gh-pages/_data/galleries.yml">_data/galleries.yml</a>:<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- id: screenshots
  description: One Manga Day screenshots 
  imagefolder: pic/scr
  images:
  - name: OMD-s0001.png
    thumb: thumb-1.jpg
    text: Main menu
  - name: OMD-s0002.png
    thumb: thumb-2.jpg
    text: Instructor
</code></pre></div></div><p>In this code <em>site.data.galleries</em> collection was created. First <code class="language-plaintext highlighter-rouge">-</code> means that we created collection item. The <em>images</em> is a subcollection, each element of which has <em>name</em>, <em>thumb</em> and <em>text</em> fields.<p>And example how to work with this collection, <a href="https://github.com/DeXP/onemangaday/blob/gh-pages/_includes/mangascript.html">_includes/mangascript.html</a>:<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;script type="text/javascript"&gt;
var imageGallery = [
<span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">gallery</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">data</span><span class="p">.</span><span class="nv">galleries</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">where</span><span class="p">:</span><span class="s2">"id"</span><span class="p">,</span><span class="nv">page</span><span class="p">.</span><span class="nv">gId</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">first</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">image</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">gallery.images</span><span class="w"> </span><span class="p">%}</span>
  "<span class="p">{{</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">linkadd</span><span class="w"> </span><span class="p">}}{{</span><span class="w"> </span><span class="nv">gallery</span><span class="p">.</span><span class="nv">imagefolder</span><span class="w"> </span><span class="p">}}</span>/<span class="p">{{</span><span class="w"> </span><span class="nv">image</span><span class="p">.</span><span class="nv">name</span><span class="w"> </span><span class="p">}}</span>",
<span class="p">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">%}</span>
];
...
&lt;/script&gt;
</code></pre></div></div><p>First of all, <em>site.data.galleries</em> collection assigned to <em>gallery</em> variable. In this line the <em>where</em> filter was used - take only that collection items, which subfield <em>id</em> is equal to <em>page.gId</em>. It is understood that the ID must be unique, so we need only one, <em>first</em> element from <em>where</em>’s result.<p>Then just pass by this gallery with <code class="language-plaintext highlighter-rouge">for</code> loop.<p>The output will be like this:<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">imageGallery</span> <span class="o">=</span> <span class="p">[</span>
  <span class="dl">"</span><span class="s2">pic/manga/OneMangaDay_000_001.png</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">pic/manga/OneMangaDay_000_002.png</span><span class="dl">"</span><span class="p">,</span> 
  <span class="p">...</span>
  <span class="dl">"</span><span class="s2">pic/manga/OneMangaDay_999.png</span><span class="dl">"</span>
<span class="p">];</span>
</code></pre></div></div><p class="t30 button radius r15"><a href="https://help.shopify.com/themes/liquid" target="_blank">Good Jekyll (Liquid) reference ›</a><p class="t30 button radius success"><a href="https://www.siteleaf.com/blog/advanced-liquid-where/" target="_blank">“Advanced Liquid: Where” ›</a><h3 id="inpage-galleries">Inpage galleries</h3><p>Another good approach for galleries is to store their collections in page directly. For example, One Manga Day page <a href="https://raw.githubusercontent.com/DeXP/dexp.github.io/master/_posts/games/2014-06-30-onemangaday.md">source</a>:<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
layout: page
title:  "One Manga Day"
gallery:
    - image_url: omd/OMD-s0001.jpg
    - image_url: omd/OMD-s0002.jpg
    - image_url: omd/OMD-s0003.jpg
...
buttons:
    - caption: "Website"
      url: "http://onemangaday.dexp.in/"
      class: "warning"
    - caption: "Steam"
      url: "http://store.steampowered.com/app/365070/"
      class: "info"
...
---
Manga are... 
<span class="p">{%</span><span class="w"> </span><span class="nt">include</span><span class="w"> </span><span class="nv">gallery</span><span class="w"> </span><span class="p">%}</span>
...
<span class="p">{%</span><span class="w"> </span><span class="nt">include</span><span class="w"> </span><span class="nv">buttons</span><span class="w"> </span><span class="p">%}</span>

</code></pre></div></div><p>There are two collections, inlined to that page: <em>gallery</em> and <em>buttons</em>. The <em>page.gallery</em> and <em>page.buttons</em> are variables for using in <a href="https://github.com/DeXP/dexp.github.io/blob/master/_includes/gallery">_includes/gallery</a> or <a href="https://github.com/DeXP/dexp.github.io/blob/master/_includes/buttons">_includes/buttons</a>.<div><ul class="clearing-thumbs small-block-grid-4" data-clearing=""><li><a href="https://ArizonaJuggerLeague.github.io/images/omd/OMD-s0001.jpg"><img src="https://ArizonaJuggerLeague.github.io/images/omd/OMD-s0001-thumb.jpg" alt="" /></a><li><a href="https://ArizonaJuggerLeague.github.io/images/omd/OMD-s0002.jpg"><img src="https://ArizonaJuggerLeague.github.io/images/omd/OMD-s0002-thumb.jpg" alt="" /></a><li><a href="https://ArizonaJuggerLeague.github.io/images/omd/OMD-s0003.jpg"><img src="https://ArizonaJuggerLeague.github.io/images/omd/OMD-s0003-thumb.jpg" alt="" /></a><li><a href="https://ArizonaJuggerLeague.github.io/images/omd/OMD-s0004.jpg"><img src="https://ArizonaJuggerLeague.github.io/images/omd/OMD-s0004-thumb.jpg" alt="" /></a><li><a href="https://ArizonaJuggerLeague.github.io/images/omd/OMD-s0005.jpg"><img src="https://ArizonaJuggerLeague.github.io/images/omd/OMD-s0005-thumb.jpg" alt="" /></a><li><a href="https://ArizonaJuggerLeague.github.io/images/omd/OMD-s0006.jpg"><img src="https://ArizonaJuggerLeague.github.io/images/omd/OMD-s0006-thumb.jpg" alt="" /></a><li><a href="https://ArizonaJuggerLeague.github.io/images/omd/OMD-s0007.jpg"><img src="https://ArizonaJuggerLeague.github.io/images/omd/OMD-s0007-thumb.jpg" alt="" /></a><li><a href="https://ArizonaJuggerLeague.github.io/images/omd/OMD-s0008.jpg"><img src="https://ArizonaJuggerLeague.github.io/images/omd/OMD-s0008-thumb.jpg" alt="" /></a></ul></div><p>This method is useful for inlining info for this page only. But if you want cross site collections (to show contact/menus/etc on every page) than previous method is for you.<h3 id="filters-pipes">Filters pipes</h3><p>We’ve touched the filters theme already. Now is a time for a more complicated task. I want to see all my “Linux” posts, grouped by year, limited with 3 years only.<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">cp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">tags</span><span class="p">.</span><span class="nv">linux</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">sort</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">reverse</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">byYear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">cp</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">group_by_exp</span><span class="p">:</span><span class="s2">"post"</span><span class="p">,</span><span class="w"> </span><span class="s2">"post.date | date: '%Y'"</span><span class="w"> </span><span class="p">%}</span>

<span class="p">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">yearItem</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">byYear</span><span class="w"> </span><span class="na">limit</span><span class="o">:</span><span class="mi">3</span><span class="w"> </span><span class="p">%}</span>
  &lt;h4&gt;<span class="p">{{</span><span class="w"> </span><span class="nv">yearItem</span><span class="p">.</span><span class="nv">name</span><span class="w"> </span><span class="p">}}</span>&lt;/h4&gt;
  &lt;ul&gt;
    <span class="p">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">post</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">yearItem.items</span><span class="w"> </span><span class="p">%}</span>
    &lt;li&gt;&lt;a href="<span class="p">{{</span><span class="w"> </span><span class="nv">post</span><span class="p">.</span><span class="nv">url</span><span class="w"> </span><span class="p">}}</span>"&gt;<span class="p">{{</span><span class="w"> </span><span class="nv">post</span><span class="p">.</span><span class="nv">title</span><span class="w"> </span><span class="p">}}</span>&lt;/a&gt;&lt;/li&gt;
    <span class="p">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">%}</span>
  &lt;/ul&gt;
<span class="p">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div><p>Firstly, get all “Linux” posts by tag: <em>site.tags.linux</em>. Next line groups posts by date. You can choose any field or date format for grouping. The final thing is a <em>limit</em> in the <code class="language-plaintext highlighter-rouge">for</code> loop. Output:<blockquote><h4>2022</h4><ul><li><a href="/articles/civetwebview/">Tiny desktop GUI application in PHP - 2 MB is enough</a></ul><h4>2021</h4><ul><li><a href="/tools/dxDD2RenPy/">dxDD2RenPy</a></ul><h4>2017</h4><ul><li><a href="/articles/nuklear-cross/">Nuklear+ — tiny crossplatform GUI</a><li><a href="/tools/nuklear-cross/">Nuklear+ library</a><li><a href="/tools/dxtarread/">dxTarRead</a><li><a href="/articles/read-tar-in-26-lines/">Read TAR-file in 26 lines of Ansi-C code</a><li><a href="/articles/nuklear-intro/">Nuklear — ideal GUI for tiny projects?</a><li><a href="/tools/dxbin2h/">dxBin2h</a></ul></blockquote><p>You can see the demo on <a href="http://localhost:4000/photo/">Photo page</a> (<a href="https://raw.githubusercontent.com/DeXP/dexp.github.io/master/pages/photo.md">source</a>).<h3 id="variable-capture">Variable capture</h3><p>For example, I want not to put parsed code directly to <code class="language-plaintext highlighter-rouge">{{ content }}</code>, but put it into some variable, modify somehow, and put to the page after that.<p>Usual assignment:<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">someString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div><p>It is not working in this case since I want not raw-strings but preprocessed by Jekyll.<p>The solution is <em>capture</em> directive. Let’s see an example of compress.html <a href="https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901">bug avoid hack</a>. Initially, you have the code like:<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">highlight</span><span class="w"> </span>AnyLanguage<span class="w"> </span>linenos<span class="w"> </span><span class="p">%}</span>
Some code
<span class="p">{%</span><span class="w"> </span><span class="nt">endhighlight</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div><p>Change it to using <em>capture</em>:<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">capture</span><span class="w"> </span><span class="nv">_code</span><span class="w"> </span><span class="p">%}{%</span><span class="w"> </span><span class="nt">highlight</span><span class="w"> </span>AnyLanguage<span class="w"> </span>linenos<span class="w"> </span><span class="p">%}</span>
Some code
<span class="p">{%</span><span class="w"> </span><span class="nt">endhighlight</span><span class="w"> </span><span class="p">%}{%</span><span class="w"> </span><span class="nt">endcapture</span><span class="w"> </span><span class="p">%}{%</span><span class="w"> </span><span class="nt">include</span><span class="w"> </span>fixlinenos.html<span class="w"> </span><span class="p">%}</span>
<span class="p">{{</span><span class="w"> </span><span class="nv">_code</span><span class="w"> </span><span class="p">}}</span>
</code></pre></div></div><p>So highlighted code in <em>_code</em> variable. Then it will be processed by <em>_include/fixlinenos.html</em>:<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">_code</span><span class="w"> </span><span class="ow">contains</span><span class="w"> </span><span class="s1">'&lt;pre class="lineno"&gt;'</span><span class="w"> </span><span class="p">%}</span>
    <span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">_code</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">_code</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">replace</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;pre&gt;&lt;code"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;code"</span><span class="w"> </span><span class="p">%}</span>
    <span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">_code</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">_code</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">replace</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;/code&gt;&lt;/pre&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;/code&gt;"</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div><p>The code just check for <code class="language-plaintext highlighter-rouge">&lt;pre class="lineno"&gt;</code> substring. If it exists, then we have buggy HTML output. Just trim, replace it with correct ones.<p class="t30 button radius"><a href="https://help.shopify.com/themes/liquid/filters/string-filters" target="_blank"> Jekyll (Liquid) string filters ›</a><h3 id="code-compression">Code compression</h3><p>You can compress all your SASS with one line in <a href="https://github.com/DeXP/dexp.github.io/blob/master/_config.yml">_config.yml</a>:<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">sass</span><span class="pi">:</span>
    <span class="na">style</span><span class="pi">:</span> <span class="s">:compressed</span>
</code></pre></div></div><p>If you make your SASS code on the fly and store it to string, then the <em>scssify</em> filter is for you:<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{{</span><span class="w"> </span><span class="nv">some_scss</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">scssify</span><span class="w"> </span><span class="p">}}</span>
</code></pre></div></div><p>The style from config will be applied.<p>There is no standard way to compress output HTML. But you can use <a href="https://github.com/penibelst/jekyll-compress-html">compress.html</a>. Just add one line to your <a href="https://github.com/DeXP/onemangaday/blob/gh-pages/_layouts/default.html">top-level layout</a>:<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span>
<span class="na">layout</span><span class="pi">:</span> <span class="s">compress</span>
<span class="nn">---</span>
</code></pre></div></div><p>The compression will be after all code generation. You will get all your HTML into one line like this:<p><img src="https://ArizonaJuggerLeague.github.io/images/other/jekyll/compressed-html.png" alt="Compressed one line HTML" title="Compressed one line HTML" /><h3 id="custom-highlight">Custom highlight</h3><p>I need to highlight some rare programming language, that is not in Jekyll opportunities. Ok, just do it programmatically.<p>I made <a href="https://github.com/DeXP/onemangaday/blob/gh-pages/_includes/customhighlight.html">customhighlight.html</a> for highlighting RenPy code (based on Python language). The main idea is pretty simple and based on <em>replace</em> filter too:<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">_customtag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"image side hide play show scene"</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">split</span><span class="p">:</span><span class="w"> </span><span class="s2">" "</span><span class="w"> </span><span class="p">%}</span>

<span class="p">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">_element</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">_customtag</span><span class="w"> </span><span class="p">%}</span>
  <span class="p">{%</span><span class="w"> </span><span class="nt">capture</span><span class="w"> </span><span class="nv">_from</span><span class="w"> </span><span class="p">%}</span>&lt;span class="n"&gt;<span class="p">{{</span><span class="w"> </span><span class="nv">_element</span><span class="w"> </span><span class="p">}}{%</span><span class="w"> </span><span class="nt">endcapture</span><span class="w"> </span><span class="p">%}</span>
  <span class="p">{%</span><span class="w"> </span><span class="nt">capture</span><span class="w"> </span><span class="nv">_to</span><span class="w"> </span><span class="p">%}</span>&lt;span class="k"&gt;<span class="p">{{</span><span class="w"> </span><span class="nv">_element</span><span class="w"> </span><span class="p">}}{%</span><span class="w"> </span><span class="nt">endcapture</span><span class="w"> </span><span class="p">%}</span>
  <span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">_code</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">_code</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">replace</span><span class="p">:</span><span class="w"> </span><span class="nv">_from</span><span class="p">,</span><span class="w"> </span><span class="nv">_to</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div><p>Just form an array of tags, then search-replace for each one in code string. Simple. The only new thing is splitting the string into the array. An example of highlighted RenPy game code:<blockquote style="font-style: normal"><figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="nf">define</span> <span class="n">m</span> <span class="o">=</span> <span class="n">Character</span><span class="p">(</span><span class="s">'Malya'</span><span class="p">,</span> <span class="k">color</span><span class="o">=</span><span class="s">"#76e2e4"</span><span class="p">)</span>
<span class="nt">image</span> <span class="n">m</span> <span class="n">oho</span> <span class="o">=</span> <span class="s">"Mala-o.png"</span>
<span class="nf">define</span> <span class="n">dex</span> <span class="o">=</span> <span class="n">Character</span><span class="p">(</span><span class="s">'Dex'</span><span class="p">,</span> <span class="k">color</span><span class="o">=</span><span class="s">"#999999"</span><span class="p">)</span>
<span class="nt">image</span> <span class="n">dex</span> <span class="n">norm</span> <span class="o">=</span> <span class="s">"Dex-knight.png"</span>
<span class="nt">image</span> <span class="n">bg</span> <span class="n">Green</span> <span class="o">=</span> <span class="s">"bg.jpg"</span>

<span class="nf">label</span> <span class="n">start</span><span class="p">:</span>
    <span class="nt">scene</span> <span class="n">black</span>
    <span class="s">"It is not known when this story was..."</span> <span class="k">with</span> <span class="n">dissolve</span>
    <span class="s">"But once ... It still happened!"</span> <span class="k">with</span> <span class="n">dissolve</span>
    <span class="nt">scene</span> <span class="n">bg</span> <span class="n">Green</span> <span class="k">with</span> <span class="n">fade</span>
    <span class="nt">show</span> <span class="n">dex</span> <span class="n">norm</span> <span class="nt">at</span> <span class="n">left</span> <span class="k">with</span> <span class="n">dissolve</span>
    <span class="n">dex</span> <span class="s">"Oh yeah! It looks even better when polished!"</span>
    <span class="nt">show</span> <span class="n">m</span> <span class="n">oho</span> <span class="nt">at</span> <span class="n">right</span> <span class="k">with</span> <span class="n">dissolve</span>
    <span class="n">m</span> <span class="s">"Wow! How did you get so big?"</span>
    <span class="k">return</span></code></pre></figure></blockquote><p>Usage example can be found <a href="https://raw.githubusercontent.com/DeXP/onemangaday/gh-pages/tutorials/_posts/2015-03-28-simple-game-in-renpy.md">here</a>. Also, highlighter inlined into <a href="https://raw.githubusercontent.com/DeXP/dexp.github.io/master/_posts/articles/2017-08-08-advanced-jekyll.md">this article source code</a>.<h3 id="tag-cloud">Tag cloud</h3><p>The tag cloud is a more complicated task. First of all, page for each tag must be created. Secondly, there must be an array of valid tags with human-readable names. Thirdly, the script needs to count articles for each tag.<p><a href="http://onemangaday.dexp.in/tutorials/"><img src="https://ArizonaJuggerLeague.github.io/images/other/jekyll/tag-cloud.png" alt="Tag cloud" title="Tag cloud" /></a><p>Main calculations are in<a href="https://github.com/DeXP/onemangaday/blob/gh-pages/_includes/tagcloud.html">_includes/tagcloud.html</a>:<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;ul id="cloud"&gt;
  &lt;li style="font-size: 150%"&gt;&lt;a href="index.html"&gt;All&lt;/a&gt;&lt;/li&gt;
<span class="p">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">tag</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">site.tags</span><span class="w"> </span><span class="p">%}</span>
  <span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">curTag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">tag</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">first</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">slugize</span><span class="w"> </span><span class="p">%}</span>
  <span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">langtag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">landat</span><span class="p">.</span><span class="nv">tags</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">where</span><span class="p">:</span><span class="s2">"slug"</span><span class="p">,</span><span class="nv">curTag</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">first</span><span class="w"> </span><span class="p">%}</span> 
  &lt;li style="font-size: <span class="p">{{</span><span class="w"> </span><span class="nv">tag</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">last</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">size</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">times</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">divided_by</span><span class="p">:</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">tags</span><span class="p">.</span><span class="nf">size</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">plus</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="p">}}</span>%"&gt;
    &lt;a href="<span class="p">{{</span><span class="w"> </span><span class="nv">curTag</span><span class="w"> </span><span class="p">}}</span>.html"&gt;<span class="p">{{</span><span class="w"> </span><span class="nv">langtag</span><span class="p">.</span><span class="nv">name</span><span class="w"> </span><span class="p">}}</span>&lt;/a&gt;
  &lt;/li&gt;
<span class="p">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">%}</span>
&lt;/ul&gt;
</code></pre></div></div><p>The <em>site.tags</em> variable stores all used tags from all posts. The <em>langtag</em> is current tag in human readable tags, defined in <a href="https://github.com/DeXP/onemangaday/blob/gh-pages/_data/lang.yml">_data/lang.yml</a>.<p>The <em>tag</em> variable from <em>site.tags</em> will be there for each iteration. It contains the list of all posts with this tag. So we can count it, multiply, divide etc. The smallest one was too small for me, so extra 20% was added.<p class="t30 button radius"><a href="https://help.shopify.com/themes/liquid/filters/array-filters" target="_blank"> Jekyll (Liquid) array filters ›</a><h3 id="multilingual-sites">Multilingual sites</h3><p>Jekyll does not support internationalization itself. So the programmer completely implements it. The easiest way is just to isolate another language materials by category: <a href="http://localhost:4000/russian/">Russian articles</a>.<p>Another way is to use a subdomain for another language. But you need to have exactly 2 sites in this case. And 10 if you have 10 languages.<p><img src="https://ArizonaJuggerLeague.github.io/images/other/jekyll/omd-polish.png" alt="One Manga Day in Polish" title="One Manga Day in Polish" class="center" /><p><a href="https://onemangaday.dexp.in">One Manga Day</a> has separate folders for each language. The idea is pretty simple. For example, there is an English page <code class="language-plaintext highlighter-rouge">cat/page.html</code>. If this page has Russian variant, it will have URL <code class="language-plaintext highlighter-rouge">ru/cat/page.html</code>. You can just create all pages by hands when you have a small amount. But if there are a lot of pages, then you need to check page existence somehow. But there are no file functions in Jekyll for GitHub servers security purposes.<p>You can use <a href="https://github.com/DeXP/onemangaday/blob/gh-pages/_includes/CHECKEXISTS.html">_includes/CHECKEXISTS.html</a> for checking file existence. The idea is to check all site pages and posts:<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">curUrlExists</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">curFUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">curUrl</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">remove</span><span class="p">:</span><span class="w"> </span><span class="s2">".html"</span><span class="w"> </span><span class="p">%}</span>

<span class="p">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">curFile</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">site.pages</span><span class="w"> </span><span class="p">%}</span>
    <span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">cFile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">curFile</span><span class="p">.</span><span class="nv">url</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">remove</span><span class="p">:</span><span class="w"> </span><span class="s2">".html"</span><span class="w"> </span><span class="p">%}</span>
    <span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">cFile</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">curFUrl</span><span class="w"> </span><span class="p">%}</span>
        <span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">curUrlExists</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">%}</span>
    <span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">%}</span>

<span class="p">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">curFile</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">site.posts</span><span class="w"> </span><span class="p">%}</span>
    <span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">cFile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">curFile</span><span class="p">.</span><span class="nv">url</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">remove</span><span class="p">:</span><span class="w"> </span><span class="s2">".html"</span><span class="w"> </span><span class="p">%}</span>
    <span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">cFile</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">curFUrl</span><span class="w"> </span><span class="p">%}</span>
        <span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">curUrlExists</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">%}</span>
    <span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div><p>Now you need to add only some info to your URL if an appropriate file exists.<h3 id="comments-system">Comments system</h3><p>The first and easiest solution - <a href="https://disqus.com/">Disqus</a> or another AJAX-based JavaScript commentary system. You just inline some small JS-code into your page and all works fine.<p><a href="https://onemangaday.dexp.in/feedback.html"><img src="https://ArizonaJuggerLeague.github.io/images/other/jekyll/omd-disqus.png" alt="One Manga Day Disqus comments" title="One Manga Day Disqus comments" /></a><p>But I like <a href="https://staticman.net">Staticman</a> - comments system, based on Pull Requests to your site repo. So comments are in Jekyll collection too!<p>So the code to show your <a href="https://github.com/DeXP/dexp.github.io/blob/master/_includes/_comments.html">page’s comments</a>:<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">capture</span><span class="w"> </span><span class="nv">post_slug</span><span class="w"> </span><span class="p">%}{{</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">url</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">slugify</span><span class="w"> </span><span class="p">}}{%</span><span class="w"> </span><span class="nt">endcapture</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">data</span><span class="p">.</span><span class="nv">comments</span><span class="p">[</span><span class="nv">post_slug</span><span class="p">]</span><span class="w"> </span><span class="p">%}</span>
  <span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">comments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">data</span><span class="p">.</span><span class="nv">comments</span><span class="p">[</span><span class="nv">post_slug</span><span class="p">]</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">sort</span><span class="w"> </span><span class="p">%}</span>
				
  <span class="p">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">comment</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">comments</span><span class="w"> </span><span class="p">%}</span>
    <span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">comment</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nv">email</span><span class="w"> </span><span class="p">%}</span>
    <span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">comment</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nv">name</span><span class="w"> </span><span class="p">%}</span>
    <span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">comment</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nv">url</span><span class="w"> </span><span class="p">%}</span>
    <span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">date</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">comment</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nv">date</span><span class="w"> </span><span class="p">%}</span>
    <span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">comment</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nv">message</span><span class="w"> </span><span class="p">%}</span>

    <span class="p">{%</span><span class="w"> </span><span class="nt">include</span><span class="w"> </span>_post-comment.html<span class="w"> </span><span class="na">index</span><span class="o">=</span>forloop.index<span class="w"> </span><span class="err">
</span><span class="w">       </span><span class="na">email</span><span class="o">=</span><span class="nv">email</span><span class="w"> </span><span class="na">name</span><span class="o">=</span><span class="nv">name</span><span class="w"> </span><span class="na">url</span><span class="o">=</span><span class="nv">url</span><span class="w"> </span><span class="na">date</span><span class="o">=</span><span class="nv">date</span><span class="w"> </span><span class="na">message</span><span class="o">=</span><span class="nv">message</span><span class="w"> </span><span class="p">%}</span>
  <span class="p">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div><p><a href="https://github.com/DeXP/dexp.github.io/blob/master/_includes/_post-new-comment.html">Posting form</a> is pretty simple too. This form is on the bottom of this page. You can moderate comments via approving pull request. Or just ask Staticman to pull comments to your site directly.<h3 id="conclusion">Conclusion</h3><p>Jekyll is a really cool tool for small sites and blogs. Just try it, you will love it!<p><img src="https://ArizonaJuggerLeague.github.io/images/other/jekyll/logo-2x.png" alt="Jekyll logo" title="Jekyll logo" class="center" /><h3 id="useful-links">Useful links</h3><ul><li><a href="https://pages.github.com/">GitHub Pages</a><li><a href="http://jekyllthemes.org/">Jekyll Themes</a><li><a href="https://help.shopify.com/themes/liquid">Liquid reference</a></ul><iframe src="https://www.youtube.com/embed/Kw5K0czvSm0?ecver=2" width="640" height="360" frameborder="0" allowfullscreen=""></iframe> <container> <row><columns small="12" large="6"> <a href="https://habrahabr.ru/post/336266/" class="t30 button radius " target="_blank">This article in Russian ›</a> </columns><columns small="12" large="6"> <a href="http://it-cast.nesterione.com/" class="t30 button radius success" target="_blank">Import This cast website ›</a> </columns> </row> </container><p class="t60"><strong>Other Articles</strong><ul class="side-nav"><li><a href="http://localhost:4000/articles/civetwebview/">GUI &middot; <strong>Tiny desktop GUI application in PHP - 2 MB is enough</strong></a><li><a href="http://localhost:4000/articles/best-nintendo-switch-games/">Gaming &middot; <strong>Best Nintendo Switch games</strong></a><li><a href="http://localhost:4000/articles/nuklear-cross/">GUI &middot; <strong>Nuklear+ — tiny crossplatform GUI</strong></a><li><a href="http://localhost:4000/articles/advanced-jekyll/">Static site creation &middot; <strong>Advanced Jekyll</strong></a><li><a href="http://localhost:4000/articles/read-tar-in-26-lines/">Low level programming &middot; <strong>Read TAR-file in 26 lines of Ansi-C code</strong></a></ul></div><div id="page-meta" class="t30"><p> <time class="icon-calendar pr20" datetime="2017-08-08T00:00:00-07:00" itemprop="datePublished"> 2017-08-08</time> <span class="icon-archive pr20"> ARTICLES</span> <br /> <span class="pr20"><span class="icon-price-tag pr10"> articles</span> <span class="icon-price-tag pr10"> jekyll</span> <span class="icon-price-tag pr10"> github pages</span> <span class="icon-price-tag pr10"> html</span> <span class="icon-price-tag pr10"> css</span> <span class="icon-price-tag pr10"> web</span> </span><div id="post-nav" class="row"><div class="small-5 columns"><a class="button small radius prev" href="http://localhost:4000/games/wordlase/">&laquo; Wordlase</a></div><div class="small-2 columns text-center"><a class="radius button small" href="http://localhost:4000/blog/archive/" title="Blog Archive">Archive</a></div><div class="small-5 columns text-right"><a class="button small radius next" href="http://localhost:4000/photo/itcast-meetup-2017/">It-cast meetup #1, 2017 &raquo;</a></div></div></div><section class="comments"><div class="constrain--body"><h2 class="comments__heading heading-2">Leave a comment</h2><form id="post-new-comment" class="form" action="https://api.staticman.net/v2/entry/DeXP/dexp.github.io/master/comments" method="post"> <input type="hidden" name="options[slug]" value="articles-advanced-jekyll"> <input type="hidden" name="options[parent]" value="articles-advanced-jekyll"> <input type="hidden" name="options[origin]" value="http://localhost:4000/articles/advanced-jekyll/"> <input type="hidden" name="options[redirect]" value="http://localhost:4000/articles/advanced-jekyll/"> <input type="text" name="company" class="text-field" style="display: none"> <input class="form__field text-field" type="text" name="fields[name]" placeholder="Name" required/> <input class="form__field text-field" type="email" name="fields[email]" placeholder="Email address (will not be public; for avatar only)" required/> <input class="form__field text-field" type="url" name="fields[url]" placeholder="Website (optional)"/> <input class="form__field text-field" type="address" name="fields[address]" placeholder="Address (do not fill!)" style="display: none"/> <textarea class="form__field text-field" rows="10" name="fields[message]" placeholder="Comment. Markdown is accepted." required></textarea> <input class="large radius button" type="submit" value="Send" /> (after comment you will be redirected back here) </form></div></section></article></div></div><div id="up-to-top" class="row"><div class="small-12 columns" style="text-align: right;"> <a class="fontel-16 icon-chevron_up" href="#top-of-page"></a></div></div><footer id="footer-content" class="bg-grau"><div id="footer"><div class="row"><div class="medium-6 large-5 columns"><h5 class="shadow-black">About This Site</h5><p class="shadow-black"> This is the home of the Arizona Jugger League, LLC. We strive to create fun, competitive Jugger tournaments! <a href="http://localhost:4000/about/">More ›</a></div><div class="small-6 medium-3 large-3 large-offset-1 columns"><h5 class="shadow-black">Services</h5><ul class="no-bullet shadow-black"><li > <a href="http://localhost:4000" title=""></a><li > <a href="http://localhost:4000/feed.xml" title="Subscribe to RSS Feed">RSS</a><li > <a href="http://localhost:4000/atom.xml" title="Subscribe to Atom Feed">Atom</a><li > <a href="http://localhost:4000/sitemap.xml" title="Sitemap for Google Webmaster Tools">sitemap.xml</a></ul></div><div class="small-6 medium-3 large-3 columns"><h5 class="shadow-black">Useful links</h5><ul class="no-bullet shadow-black"><li > <a href="http://localhost:4000" title=""></a><li class="discord-link" > <a href="https://discord.gg/eeFq873Br6" target="_blank" title="Discord Link">Discord</a></ul></div></div></div><div id="subfooter"><nav class="row"><section id="subfooter-left" class="small-12 medium-6 columns credits"><p>© Arizona Jugger League, LLC (2025)</section><section id="subfooter-right" class="small-12 medium-6 columns"><ul class="inline-list social-icons"><li><a href="https://www.youtube.com/@ArizonaJuggerLeague" target="_blank" class="icon-youtube" title="YouTube"></a><li><a href="https://www.tiktok.com/@azjuggerleague" target="_blank" class="icon-tiktok" title="VKontakte"></a><li><a href="https://www.instagram.com/arizonajuggerleague" target="_blank" class="icon-instagram" title="Instagram"></a></ul></section></nav></div></footer><script src="http://localhost:4000/assets/js/javascript.min.js"></script> <script> $("#masthead").backstretch("https://ArizonaJuggerLeague.github.io/images/head/jekyll.png", {fade: 700}); $("#masthead-with-text").backstretch("https://ArizonaJuggerLeague.github.io/images/head/jekyll.png", {fade: 700}); </script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-103240598-1', 'auto'); ga('set', 'anonymizeIp', true); ga('send', 'pageview'); </script>
