<!doctype html><html class="no-js" lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Vim and keyboard layout switching</title><link rel="stylesheet" type="text/css" href="http://localhost:4000/assets/css/styles_feeling_responsive_light.css"><link rel="stylesheet" type="text/css" href="http://localhost:4000/assets/css/styles_feeling_responsive.css"> <script src="http://localhost:4000/assets/js/modernizr.min.js"></script> <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script> <script> WebFont.load({ google: { families: [ 'Lato:400,700,400italic:latin', 'Volkhov::latin' ] } }); </script> <noscript><link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic%7CVolkhov' rel='stylesheet' type='text/css'> </noscript><meta name="description" content="All Vim commands need to be entered in English. This is a problem if the main text is entered in some other language because you often need to switch the layout. One of the solutions makes you get used to a new hotkey to switch layout. Also, there are many platform-dependent solutions with the call of various utilities. The goal of the vim-xkbswitch plug-in is to provide uniform behavior for many operating systems and languages."><link rel="canonical" href="http://localhost:4000/articles/vim-and-layout/"><meta property="og:title" content="Vim and keyboard layout switching"><meta property="og:description" content="All Vim commands need to be entered in English. This is a problem if the main text is entered in some other language because you often need to switch the layout. One of the solutions makes you get used to a new hotkey to switch layout. Also, there are many platform-dependent solutions with the call of various utilities. The goal of the vim-xkbswitch plug-in is to provide uniform behavior for many operating systems and languages."><meta property="og:url" content="http://localhost:4000/articles/vim-and-layout/"><meta property="og:locale" content="en_EN"><meta property="og:type" content="website"><meta property="og:site_name" content="Arizona Jugger League"><meta property="article:author" content="https://www.facebook.com/Arizona Jugger League"><link type="text/plain" rel="author" href="http://localhost:4000/humans.txt"><link rel="icon" sizes="32x32" href="http://localhost:4000/assets/img/favicon-32x32.png"><link rel="icon" sizes="192x192" href="http://localhost:4000/assets/img/touch-icon-192x192.png"><link rel="apple-touch-icon-precomposed" sizes="180x180" href="http://localhost:4000/assets/img/apple-touch-icon-180x180-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://localhost:4000/assets/img/apple-touch-icon-152x152-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/assets/img/apple-touch-icon-144x144-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="120x120" href="http://localhost:4000/assets/img/apple-touch-icon-120x120-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/assets/img/apple-touch-icon-114x114-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="76x76" href="http://localhost:4000/assets/img/apple-touch-icon-76x76-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/assets/img/apple-touch-icon-72x72-precomposed.png"><link rel="apple-touch-icon-precomposed" href="http://localhost:4000/assets/img/apple-touch-icon-precomposed.png"><meta name="msapplication-TileImage" content="http://localhost:4000/assets/img/msapplication_tileimage.png"><meta name="msapplication-TileColor" content="#fabb00"><body id="top-of-page" class="post"><div id="navigation" class="sticky"><nav class="top-bar" role="navigation" data-topbar><ul class="title-area"><li class="name"><h1 class="show-for-small-only"><a href="http://localhost:4000" class="icon-tree"> Arizona Jugger League</a></h1><li class="toggle-topbar menu-icon"><a href="#"><span>Navigation</span></a></ul><section class="top-bar-section"><ul class="right"><li class="divider"><li><a href="http://localhost:4000/search/">Search</a></ul><ul class="left"><li><a href="http://localhost:4000/">Home</a><li class="divider"><li class="has-dropdown"> <a href="http://localhost:4000">Tournaments</a><ul class="dropdown"><li><a href="http://localhost:4000/dustbowlmasters/">Dust Bowl Masters</a></ul><li class="divider"><li><a href="http://localhost:4000/aboutjugger/">About Jugger</a><li class="divider"><li><a href="http://localhost:4000/aboutus/">About Us</a><li class="divider"></ul></section></nav></div><div class="row t30"><div class="medium-8 columns medium-offset-2 end"><article itemscope itemtype="http://schema.org/Article"><header><div itemprop="name"><p class="subheadline">Vim<h1>Vim and keyboard layout switching</h1></div></header><p class="teaser" itemprop="description"> All Vim commands need to be entered in English. This is a problem if the main text is entered in some other language because you often need to switch the layout. One of the solutions makes you get used to a new hotkey to switch layout. Also, there are many platform-dependent solutions with the call of various utilities. The goal of the vim-xkbswitch plug-in is to provide uniform behavior for many operating systems and languages.<div itemprop="articleSection"><p><img src="https://ArizonaJuggerLeague.github.io/images/thumb/vim-switch.png" alt="Vim and keyboard layout switching" title="Vim and keyboard layout switching" class="right" /><p class="t30 button radius"><a href="http://www.vim.org/scripts/script.php?script_id=4503">vim-xkbswitch ›</a><p>The plug-in uses platform-dependent libraries to change the layout of the operating system. Currently supported are:<ol><li>UNIX / X Server through the <a href="https://github.com/ierton/xkb-switch">xkb-switch</a> library<li>Windows 32/64bit, for which I had to make <a href="https://github.com/DeXP/xkb-switch-win">xkb-switch-win</a><li>Mac OS X via <a href="https://github.com/myshov/xkbswitch-macosx">Xkbswitch-macosx</a></ol><p>First, you need to install the plugin into Vim. Then you need to download these libraries and specify in the Vim config, where to download these libraries. For example, under Windows you need to do this:<ol><li>Download and install the plugin: from <a href="http://www.vim.org/scripts/script.php?script_id=4503">here</a> or from <a href="https://github.com/lyokha/vim-xkbswitch">here</a><li>Download the language switching library (binary files for <a href="https://github.com/DeXP/xkb-switch-win/raw/master/bin/libxkbswitch32.dll">32-bit</a> and for <a href="https://github.com/DeXP/xkb-switch-win/raw/master/bin/libxkbswitch64.dll">64-bit</a>, about 5kb) and copy it to the root directory of the Vim<li>Add the following lines to vimrc:</ol><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">let</span> <span class="n">g</span><span class="p">:</span><span class="n">XkbSwitchEnabled</span> <span class="o">=</span> <span class="mi">1</span> 
<span class="n">let</span> <span class="n">g</span><span class="p">:</span><span class="n">XkbSwitchIMappings</span> <span class="o">=</span> <span class="p">[</span><span class="s">'ru'</span><span class="p">]</span>
</code></pre></div></div><p>We are approaching another interesting feature of the plugin - adding localized hotkeys. For example, if I press <code class="language-plaintext highlighter-rouge">&lt;C-N&gt; v</code> in the edit mode, I will see NerdTree. But if I edit the text in Russian, <code class="language-plaintext highlighter-rouge">&lt;C-N&gt; м</code> will be pressed and the plug-in will not start. However, if the plug-in option “g: XkbSwitchIMappings” is enabled, then the plug-in will move all the editing mode mappings to create similar localized ones, i.e. Will add <code class="language-plaintext highlighter-rouge">&lt;C-N&gt; м</code> for me.<p>By default, only the Russian language is supported from the box. However, the plugin can load language maps from a file, which will create localized imaps for any language. The <a href="https://github.com/DeXP/xkb-switch-win/tree/master/charmap">charmapgen</a> utility can help to do this under Windows.<p>If you want to get a working plug-in for another OS, then you need to make a Vim-compatible library.<p class="t30 button radius"><a href="https://github.com/DeXP/xkb-switch-win">Windows 32/64 xkb-switch-win ›</a><p class="t30 button radius success"><a href="https://habrahabr.ru/post/175709/">This article in Russian ›</a><h2 class="t60" id="other-articles">Other Articles</h2><ul class="side-nav"><li><a href="http://localhost:4000/articles/civetwebview/">GUI &middot; <strong>Tiny desktop GUI application in PHP - 2 MB is enough</strong></a><li><a href="http://localhost:4000/articles/best-nintendo-switch-games/">Gaming &middot; <strong>Best Nintendo Switch games</strong></a><li><a href="http://localhost:4000/articles/nuklear-cross/">GUI &middot; <strong>Nuklear+ — tiny crossplatform GUI</strong></a><li><a href="http://localhost:4000/articles/advanced-jekyll/">Static site creation &middot; <strong>Advanced Jekyll</strong></a><li><a href="http://localhost:4000/articles/read-tar-in-26-lines/">Low level programming &middot; <strong>Read TAR-file in 26 lines of Ansi-C code</strong></a></ul></div><div id="page-meta" class="t30"><p> <time class="icon-calendar pr20" datetime="2013-04-06T00:00:00-07:00" itemprop="datePublished"> 2013-04-06</time> <span class="icon-archive pr20"> ARTICLES</span> <br /> <span class="pr20"><span class="icon-price-tag pr10"> articles</span> <span class="icon-price-tag pr10"> linux</span> <span class="icon-price-tag pr10"> windows</span> <span class="icon-price-tag pr10"> mac os x</span> <span class="icon-price-tag pr10"> vim</span> <span class="icon-price-tag pr10"> keyboard</span> </span><div id="post-nav" class="row"><div class="small-5 columns"><a class="button small radius prev" href="http://localhost:4000/sites/dexp-books-depot/">&laquo; DeXPeriX's books depot</a></div><div class="small-2 columns text-center"><a class="radius button small" href="http://localhost:4000/blog/archive/" title="Blog Archive">Archive</a></div><div class="small-5 columns text-right"><a class="button small radius next" href="http://localhost:4000/tools/aqpicflash/">AqPicFlash &raquo;</a></div></div></div><section class="comments"><div class="constrain--body"><h2 class="comments__heading heading-2">Leave a comment</h2><form id="post-new-comment" class="form" action="https://api.staticman.net/v2/entry/DeXP/dexp.github.io/master/comments" method="post"> <input type="hidden" name="options[slug]" value="articles-vim-and-layout"> <input type="hidden" name="options[parent]" value="articles-vim-and-layout"> <input type="hidden" name="options[origin]" value="http://localhost:4000/articles/vim-and-layout/"> <input type="hidden" name="options[redirect]" value="http://localhost:4000/articles/vim-and-layout/"> <input type="text" name="company" class="text-field" style="display: none"> <input class="form__field text-field" type="text" name="fields[name]" placeholder="Name" required/> <input class="form__field text-field" type="email" name="fields[email]" placeholder="Email address (will not be public; for avatar only)" required/> <input class="form__field text-field" type="url" name="fields[url]" placeholder="Website (optional)"/> <input class="form__field text-field" type="address" name="fields[address]" placeholder="Address (do not fill!)" style="display: none"/> <textarea class="form__field text-field" rows="10" name="fields[message]" placeholder="Comment. Markdown is accepted." required></textarea> <input class="large radius button" type="submit" value="Send" /> (after comment you will be redirected back here) </form></div></section></article></div></div><div id="up-to-top" class="row"><div class="small-12 columns" style="text-align: right;"> <a class="fontel-16 icon-chevron_up" href="#top-of-page"></a></div></div><footer id="footer-content" class="bg-grau"><div id="footer"><div class="row"><div class="medium-6 large-5 columns"><h5 class="shadow-black">About This Site</h5><p class="shadow-black"> This is the home of the Arizona Jugger League, LLC. We strive to create fun, competitive Jugger tournaments! <a href="http://localhost:4000/about/">More ›</a></div><div class="small-6 medium-3 large-3 large-offset-1 columns"><h5 class="shadow-black">Services</h5><ul class="no-bullet shadow-black"><li > <a href="http://localhost:4000" title=""></a><li > <a href="http://localhost:4000/feed.xml" title="Subscribe to RSS Feed">RSS</a><li > <a href="http://localhost:4000/atom.xml" title="Subscribe to Atom Feed">Atom</a><li > <a href="http://localhost:4000/sitemap.xml" title="Sitemap for Google Webmaster Tools">sitemap.xml</a></ul></div><div class="small-6 medium-3 large-3 columns"><h5 class="shadow-black">Useful links</h5><ul class="no-bullet shadow-black"><li > <a href="http://localhost:4000" title=""></a><li class="discord-link" > <a href="https://discord.gg/eeFq873Br6" target="_blank" title="Discord Link">Discord</a><li class="sitemap-link" > <a href="http://phlow.github.io/feeling-responsive/" target="_blank" title="Theme link">Feeling Responsive</a><li class="services-newsletter" > <a href="http://foundation.zurb.com/" target="_blank" title="Built on Foundation">Built on Foundation</a></ul></div></div></div><div id="subfooter"><nav class="row"><section id="subfooter-left" class="small-12 medium-6 columns credits"><p>© Arizona Jugger League, LLC (2025)</section><section id="subfooter-right" class="small-12 medium-6 columns"><ul class="inline-list social-icons"><li><a href="http://github.com/dexp" target="_blank" class="icon-github_alt" title="GitHub"></a><li><a href="https://www.linkedin.com/in/dexperix/" target="_blank" class="icon-linkedin" title="LinkedIn"></a><li><a href="http://steamcommunity.com/id/dexp" target="_blank" class="icon-steam" title="Steam"></a><li><a href="https://vk.com/dexperix" target="_blank" class="icon-vk" title="VKontakte"></a><li><a href="https://www.facebook.com/dexperix" target="_blank" class="icon-facebook" title="Facebook"></a><li><a href="skype:dexperix?chat" target="_blank" class="icon-skype" title="Skype"></a><li><a href="https://t.me/DeXPeriX" target="_blank" class="icon-telegram" title="Telegram"></a></ul></section></nav></div></footer><script src="http://localhost:4000/assets/js/javascript.min.js"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-103240598-1', 'auto'); ga('set', 'anonymizeIp', true); ga('send', 'pageview'); </script>
