<!doctype html><html class="no-js" lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Создание сменного дизайна средствами PHP (cookies метод)</title><link rel="stylesheet" type="text/css" href="http://localhost:4000/assets/css/styles_feeling_responsive_light.css"><link rel="stylesheet" type="text/css" href="http://localhost:4000/assets/css/styles_feeling_responsive.css"> <script src="http://localhost:4000/assets/js/modernizr.min.js"></script> <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script> <script> WebFont.load({ google: { families: [ 'Lato:400,700,400italic:latin', 'Volkhov::latin' ] } }); </script> <noscript><link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic%7CVolkhov' rel='stylesheet' type='text/css'> </noscript><meta name="description" content="На многих сайтах можно видеть окошко выбора дизайна. Так пользователь может сам выбрать внешний вид, который ему по душе. Согласитесь, это довольно удобно. Сегодня и мы реализуем эту возможность!"><link rel="canonical" href="http://localhost:4000/russian/php-changable-design/"><meta property="og:title" content="Создание сменного дизайна средствами PHP (cookies метод)"><meta property="og:description" content="На многих сайтах можно видеть окошко выбора дизайна. Так пользователь может сам выбрать внешний вид, который ему по душе. Согласитесь, это довольно удобно. Сегодня и мы реализуем эту возможность!"><meta property="og:url" content="http://localhost:4000/russian/php-changable-design/"><meta property="og:locale" content="en_EN"><meta property="og:type" content="website"><meta property="og:site_name" content="Arizona Jugger League"><meta property="article:author" content="https://www.facebook.com/Arizona Jugger League"><link type="text/plain" rel="author" href="http://localhost:4000/humans.txt"><link rel="icon" sizes="32x32" href="http://localhost:4000/assets/img/favicon-32x32.png"><link rel="icon" sizes="192x192" href="http://localhost:4000/assets/img/touch-icon-192x192.png"><link rel="apple-touch-icon-precomposed" sizes="180x180" href="http://localhost:4000/assets/img/apple-touch-icon-180x180-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://localhost:4000/assets/img/apple-touch-icon-152x152-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/assets/img/apple-touch-icon-144x144-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="120x120" href="http://localhost:4000/assets/img/apple-touch-icon-120x120-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/assets/img/apple-touch-icon-114x114-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="76x76" href="http://localhost:4000/assets/img/apple-touch-icon-76x76-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/assets/img/apple-touch-icon-72x72-precomposed.png"><link rel="apple-touch-icon-precomposed" href="http://localhost:4000/assets/img/apple-touch-icon-precomposed.png"><meta name="msapplication-TileImage" content="http://localhost:4000/assets/img/msapplication_tileimage.png"><meta name="msapplication-TileColor" content="#fabb00"><body id="top-of-page" class="post"><div id="navigation" class="sticky"><nav class="top-bar" role="navigation" data-topbar><ul class="title-area"><li class="name"><h1 class="show-for-small-only"><a href="http://localhost:4000" class="icon-tree"> Arizona Jugger League</a></h1><li class="toggle-topbar menu-icon"><a href="#"><span>Navigation</span></a></ul><section class="top-bar-section"><ul class="right"><li class="divider"><li><a href="http://localhost:4000/search/">Search</a><li class="divider"><li><a href="http://localhost:4000/about/">About</a></ul><ul class="left"><li><a href="http://localhost:4000/">DeXP</a><li class="divider"><li><a href="http://localhost:4000/games/">Games</a><li class="divider"><li><a href="http://localhost:4000/tools/">Tools</a><li class="divider"><li><a href="http://localhost:4000/sites/">Sites</a><li class="divider"><li><a href="http://localhost:4000/articles/">Articles</a><li class="divider"><li><a href="http://localhost:4000/photo/">Photo</a><li class="divider"><li><a href="http://localhost:4000/russian/">Russian</a><li class="divider"><li class="has-dropdown"> <a href="http://localhost:4000/blog/">Blog</a><ul class="dropdown"><li><a href="http://localhost:4000/blog/archive/">Blog Archive</a></ul><li class="divider"></ul></section></nav></div><div id="masthead-no-image-header"><div class="row"><div class="small-12 columns"> <a id="logo" href="http://localhost:4000/" title="Arizona Jugger League – Arizona Jugger League"> <img src="http://localhost:4000/assets/img/logo.png" alt="Arizona Jugger League – Arizona Jugger League"> </a></div></div></div><div class="row t30"><div class="medium-8 columns medium-offset-2 end"><article itemscope itemtype="http://schema.org/Article"><header><div itemprop="name"><p class="subheadline">PHP<h1>Создание сменного дизайна средствами PHP (cookies метод)</h1></div></header><p class="teaser" itemprop="description"> На многих сайтах можно видеть окошко выбора дизайна. Так пользователь может сам выбрать внешний вид, который ему по душе. Согласитесь, это довольно удобно. Сегодня и мы реализуем эту возможность!<div itemprop="articleSection"><p>Для начала рассмотрим общую модель дизайна сайта:<p><img src="/images/other/chdiz.png" alt="Общая модель дизайна" title="Общая модель дизайна" class="center" /><p>Как видите, чаще всего дизайн можно разбить на 3 части: заголовок страницы (чаще всего он одинаков у всех страниц), текст страницы (у каждой страницы свой) и окончание страницы (аналогично заголовку).<p>Пусть у нас есть две функции: print-begin (выводит заголовок) и print-end (выводит окончание страницы). Тогда PHP код страниц будет выглядеть примерно так:<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
  <span class="mf">...</span>
  <span class="k">print</span><span class="o">-</span><span class="nf">begin</span><span class="p">();</span>
  <span class="k">echo</span><span class="p">(</span><span class="s1">'Текст данной страницы'</span><span class="p">);</span>
  <span class="k">print</span><span class="o">-</span><span class="nb">end</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><p>А ещё очень удобно выделить данные функции в какой-нибудь файл, например, design.php. Т.е. наш код станет таким:<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
  <span class="k">include</span><span class="p">(</span><span class="s1">'design.php'</span><span class="p">);</span>
  <span class="k">print</span><span class="o">-</span><span class="nf">begin</span><span class="p">();</span>
  <span class="k">echo</span><span class="p">(</span><span class="s1">'Текст данной страницы'</span><span class="p">);</span>
  <span class="k">print</span><span class="o">-</span><span class="nb">end</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><p>Теперь ещё усложним наш пример: в зависимости от значения переменной $_GET[‘design’] будем использовать тот или иной дизайн:<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
  <span class="k">switch</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="s1">'design'</span><span class="p">])</span> 
  <span class="p">{</span>
      <span class="k">case</span> <span class="mi">1</span><span class="o">:</span> 
        <span class="k">include</span><span class="p">(</span><span class="s1">'design.php'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="mi">2</span><span class="o">:</span> 
        <span class="k">include</span><span class="p">(</span><span class="s1">'another-design.php'</span><span class="p">);</span> 
      <span class="k">break</span><span class="p">;</span>
      <span class="k">default</span><span class="o">:</span>   
        <span class="k">include</span><span class="p">(</span><span class="s1">'design.php'</span><span class="p">);</span> 
  <span class="p">};</span>

  <span class="k">print</span><span class="o">-</span><span class="nf">begin</span><span class="p">();</span>
  <span class="k">echo</span><span class="p">(</span><span class="s1">'Текст данной страницы'</span><span class="p">);</span>
  <span class="k">print</span><span class="o">-</span><span class="nb">end</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><p>Теперь попробуйте запустить данный скрипт с параметром design=1 и design=2 (например, http://localhost/index.php?design=2). Вы увидите, что дизайн действительно изменится (если файлы design.php и another-design.php существуют). Вот и прекрасно, основной скрипт уже написан, его мы менять не будем, однако можете поэкспериментировать с ним сами.<p>Теперь мы научимся красиво устанавливать переменную $design. Очень неудобно каждый раз передавать её в адресной строке. Чаще всего данная переменная регистрируется либо в cookies, либо отдельно сохраняется на сайте в параметрах конкретного пользователя. Мы будем использовать cookies. Если кто-то не знает или забыл, что такое cookies, напоминаю: cookies - это маленькие текстовые файлы, установленные на компьютере пользователя, в которые Ваш сайт может записывать или считывать информацию. Данная информация представима в виде: “переменная” -&gt; “значение”.<p>Для работы с cookies нам нужно уметь устанавливать и считывать их значения. Для установки cookies используется функция setcookie(string name [, string value [, int expire [, string path [, string domain [, int secure]]]]]). Нам интересны лишь первые 3 параметра: имя переменной куки; значение данной переменной; дата истечения срока действия cookie. Вот пример работы с данной функцией:<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
  <span class="nv">$nextyear</span> <span class="o">=</span> <span class="nb">mktime</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nb">date</span><span class="p">(</span><span class="s2">"m"</span><span class="p">),</span><span class="nb">date</span><span class="p">(</span><span class="s2">"d"</span><span class="p">),</span><span class="nb">date</span><span class="p">(</span><span class="s2">"Y"</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
  <span class="nb">setcookie</span><span class="p">(</span><span class="s1">'design'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nv">$nextyear</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><p>Здесь мы переменной design присваиваем значение 1. Хранится это значение будет год, после срока установки.<p>Узнавать значения cookies ещё проще, чем устанавливать - они автоматически считываются в соответствующие переменные. Т.е. если на компьютере пользователя установлена cookie-переменная design, то вы можете её узнать просто посмторев PHP-переменную $_COOKIE[‘design’]:<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">printf</span><span class="p">(</span><span class="s2">"Значение cookie-переменной design = %s"</span><span class="p">,</span><span class="nv">$_COOKIE</span><span class="p">[</span><span class="s1">'design'</span><span class="p">]);</span>
</code></pre></div></div><p>И ещё, с cookies можно работать ТОЛЬКО до вывода текста (до вывода тега). Также установленые cookie будут невидимы до тех пор, пока не будет загружена следующая страница.<p>Если всё ещё не понятно, что такое cookie, то лучше почитайте ещё какую-нибудь статью, т.к. вещь это очень полезная.<p>Ну и напоследок интерфейс установки cookies на сайт:<p>Форма выбора дизайна (designform.htm):<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"setcook.php"</span> <span class="na">method=</span><span class="s">"post"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;select</span> <span class="na">name=</span><span class="s">"diz_sel"</span> <span class="na">size=</span><span class="s">"1"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">"1"</span><span class="nt">&gt;</span>Design 1<span class="nt">&lt;/option&gt;</span>
    <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">"2"</span><span class="nt">&gt;</span>Design 2<span class="nt">&lt;/option&gt;</span>
  <span class="nt">&lt;/select&gt;</span>
</code></pre></div></div><p>Файл setcook.php (устанавливает значения cookies):<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
  <span class="nv">$nextyear</span> <span class="o">=</span> <span class="nb">mktime</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nb">date</span><span class="p">(</span><span class="s2">"m"</span><span class="p">),</span><span class="nb">date</span><span class="p">(</span><span class="s2">"d"</span><span class="p">),</span><span class="nb">date</span><span class="p">(</span><span class="s2">"Y"</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
  <span class="nb">setcookie</span><span class="p">(</span><span class="s1">'diz'</span><span class="p">,</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'diz_sel'</span><span class="p">],</span> <span class="nv">$nextyear</span><span class="p">);</span>
  <span class="nb">header</span><span class="p">(</span><span class="s2">"Location: </span><span class="nv">$_SERVER['HTTP_REFERER']</span><span class="s2">"</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><p>Файл index.php (код страницы):<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
  <span class="nv">$tmpdiz</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span> <span class="k">isset</span><span class="p">(</span><span class="nv">$_COOKIE</span><span class="p">[</span><span class="s1">'design'</span><span class="p">])</span> <span class="p">)</span> <span class="nv">$tmpdiz</span> <span class="o">=</span> <span class="nv">$_COOKIE</span><span class="p">[</span><span class="s1">'design'</span><span class="p">];</span>
  <span class="k">if</span><span class="p">(</span> <span class="k">isset</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="s1">'design'</span><span class="p">])</span> <span class="p">)</span> <span class="nv">$tmpdiz</span> <span class="o">=</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s1">'design'</span><span class="p">];</span>
  <span class="k">switch</span><span class="p">(</span><span class="nv">$tmpdiz</span><span class="p">)</span> 
  <span class="p">{</span>
      <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="k">include</span><span class="p">(</span><span class="s1">'design.php'</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="mi">2</span><span class="o">:</span> 
        <span class="k">include</span><span class="p">(</span><span class="s1">'another-design.php'</span><span class="p">);</span> 
      <span class="k">break</span><span class="p">;</span>
      <span class="k">default</span><span class="o">:</span>   
        <span class="k">include</span><span class="p">(</span><span class="s1">'design.php'</span><span class="p">);</span> 
  <span class="p">};</span>

  <span class="k">print</span><span class="o">-</span><span class="nf">begin</span><span class="p">();</span>
  <span class="k">echo</span><span class="p">(</span><span class="s1">'Текст данной страницы'</span><span class="p">);</span>
  <span class="k">echo</span><span class="p">(</span><span class="s1">'Также Вы можете выбрать дизайн страницы :'</span><span class="p">);</span>
  <span class="k">include</span><span class="p">(</span><span class="s1">'designform.htm'</span><span class="p">);</span>
  <span class="k">print</span><span class="o">-</span><span class="nb">end</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><p>Взаключение скажу, что это не единственный способ сделать дизайн сменным - их огромное количество. Однако данный метод (включение нужного файла с функциями) один из самых простых и удобных.<p>Если у вас на сайте есть регистрация пользователей и о них хранится какая-либо информация, то лучше хранить информацию о дизайне именно там, т.к. не у всех включены cookies. И ещё: никогда не храните в cookies конфиденциальные данные - cookies довольно легко подделываются…<p>Ну вот и всё, что я хотел вам сегодня рассказать. Надеюсь, эта статья хоть кому-то помогла и сделала жизнь чуточку легче :)<h2 class="t60" id="другие-материалы-на-русском">Другие материалы на русском</h2><ul class="side-nav"><li><a href="http://localhost:4000/russian/kak-my-zabor-stroili/">Жизнь &middot; <strong>Как мы забор строили</strong></a><li><a href="http://localhost:4000/russian/double-commander/">Linux &middot; <strong>Double Commander - русский бесплатный Total Commander</strong></a><li><a href="http://localhost:4000/russian/ani-mplayer/">Linux &middot; <strong>Anime + MPlayer = Любовь</strong></a><li><a href="http://localhost:4000/russian/lfo-start/">Linux &middot; <strong>Linux для анимешника : Введение</strong></a><li><a href="http://localhost:4000/russian/kak-my-sarai-stroili/">Жизнь &middot; <strong>Как мы сарай строили</strong></a></ul></div><div id="page-meta" class="t30"><p> <time class="icon-calendar pr20" datetime="2006-03-23T00:00:00-07:00" itemprop="datePublished"> 2006-03-23</time> <span class="icon-archive pr20"> RUSSIAN</span> <br /> <span class="pr20"><span class="icon-price-tag pr10"> russian</span> <span class="icon-price-tag pr10"> php</span> <span class="icon-price-tag pr10"> html</span> </span><div id="post-nav" class="row"><div class="small-5 columns"><a class="button small radius prev" href="http://localhost:4000/tools/kruskal/">&laquo; Kruskal's algorithm implementation</a></div><div class="small-2 columns text-center"><a class="radius button small" href="http://localhost:4000/blog/archive/" title="Blog Archive">Archive</a></div><div class="small-5 columns text-right"><a class="button small radius next" href="http://localhost:4000/sites/dexperix-homepage/">DeXPeriX Home Page &raquo;</a></div></div></div><section class="comments"><div class="constrain--body"><div class="comments__existing js-comments"><h3 id="comments" class="t60">Dialogue &amp; Discussion</h3><article id="comment1"><div><h3> webzona</h3><p> <a href="#comment1"> Sunday, March 25th, 2007, 05.00pm </a><div><p>Распиши лучше свой исходный код!</div></div></article><article id="comment2"><div><h3> nnn</h3><p> <a href="#comment2"> Wednesday, June 27th, 2007, 05.00pm </a><div><p>Я бы предложил использовать вместо include - require (_once)<p>с отладкой будет значительно полегче<p>а во-вторых, откуда берется переменная $design??<p>такой скрипт вероятно будет работать, только при включенном register_globals …. что тоже уже не есть хорошо</div></div></article></div><h2 class="comments__heading heading-2">Leave a comment</h2><form id="post-new-comment" class="form" action="https://api.staticman.net/v2/entry/DeXP/dexp.github.io/master/comments" method="post"> <input type="hidden" name="options[slug]" value="russian-php-changable-design"> <input type="hidden" name="options[parent]" value="russian-php-changable-design"> <input type="hidden" name="options[origin]" value="http://localhost:4000/russian/php-changable-design/"> <input type="hidden" name="options[redirect]" value="http://localhost:4000/russian/php-changable-design/"> <input type="text" name="company" class="text-field" style="display: none"> <input class="form__field text-field" type="text" name="fields[name]" placeholder="Name" required/> <input class="form__field text-field" type="email" name="fields[email]" placeholder="Email address (will not be public; for avatar only)" required/> <input class="form__field text-field" type="url" name="fields[url]" placeholder="Website (optional)"/> <input class="form__field text-field" type="address" name="fields[address]" placeholder="Address (do not fill!)" style="display: none"/> <textarea class="form__field text-field" rows="10" name="fields[message]" placeholder="Comment. Markdown is accepted." required></textarea> <input class="large radius button" type="submit" value="Send" /> (after comment you will be redirected back here) </form></div></section></article></div></div><div id="up-to-top" class="row"><div class="small-12 columns" style="text-align: right;"> <a class="fontel-16 icon-chevron_up" href="#top-of-page"></a></div></div><footer id="footer-content" class="bg-grau"><div id="footer"><div class="row"><div class="medium-6 large-5 columns"><h5 class="shadow-black">About This Site</h5><p class="shadow-black"> This is the home of the Arizona Jugger League, LLC. We strive to create fun, competitive Jugger tournaments! <a href="http://localhost:4000/about/">More ›</a></div><div class="small-6 medium-3 large-3 large-offset-1 columns"><h5 class="shadow-black">Services</h5><ul class="no-bullet shadow-black"><li > <a href="http://localhost:4000" title=""></a><li > <a href="http://localhost:4000/feed.xml" title="Subscribe to RSS Feed">RSS</a><li > <a href="http://localhost:4000/atom.xml" title="Subscribe to Atom Feed">Atom</a><li > <a href="http://localhost:4000/sitemap.xml" title="Sitemap for Google Webmaster Tools">sitemap.xml</a></ul></div><div class="small-6 medium-3 large-3 columns"><h5 class="shadow-black">Useful links</h5><ul class="no-bullet shadow-black"><li > <a href="http://localhost:4000" title=""></a><li class="rss-link" > <a href="http://phlow.de/" target="_blank" title="Theme author">Phlow</a><li class="sitemap-link" > <a href="http://phlow.github.io/feeling-responsive/" target="_blank" title="Theme link">Feeling Responsive</a><li class="services-newsletter" > <a href="http://foundation.zurb.com/" target="_blank" title="Built on Foundation">Built on Foundation</a></ul></div></div></div><div id="subfooter"><nav class="row"><section id="subfooter-left" class="small-12 medium-6 columns credits"><p>© Arizona Jugger League, LLC (2025)</section><section id="subfooter-right" class="small-12 medium-6 columns"><ul class="inline-list social-icons"><li><a href="http://github.com/dexp" target="_blank" class="icon-github_alt" title="GitHub"></a><li><a href="https://www.linkedin.com/in/dexperix/" target="_blank" class="icon-linkedin" title="LinkedIn"></a><li><a href="http://steamcommunity.com/id/dexp" target="_blank" class="icon-steam" title="Steam"></a><li><a href="https://vk.com/dexperix" target="_blank" class="icon-vk" title="VKontakte"></a><li><a href="https://www.facebook.com/dexperix" target="_blank" class="icon-facebook" title="Facebook"></a><li><a href="skype:dexperix?chat" target="_blank" class="icon-skype" title="Skype"></a><li><a href="https://t.me/DeXPeriX" target="_blank" class="icon-telegram" title="Telegram"></a></ul></section></nav></div></footer><script src="http://localhost:4000/assets/js/javascript.min.js"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-103240598-1', 'auto'); ga('set', 'anonymizeIp', true); ga('send', 'pageview'); </script>
